//
//  CODataSource.m
//  COLibrary
//
//  Created by Cenker Ozkurt on 8/2/13.
//  Copyright (c) 2013 Cenker Ozkurt, Inc. All rights reserved.
//

#import "COJSONLoader.h"
#import "CODataSource.h"

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
#pragma mark - Private
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

@interface CODataSource ()

@property (nonatomic, strong) NSArray *data;

@end

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
#pragma mark - CODataSource
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

@implementation CODataSource

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
#pragma mark - init methods
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

- (id)initWithJSONFile:(NSString *)file
{
    self = [self init];
    if (self)
    {
        if (file!=nil)
        {
            self.data = [[[COJSONLoader alloc] initWithFile:file] arrayObject];
        }
    }
    
    return self;
}

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
#pragma mark - DataSource protocol methods
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

- (int)numberOfRecords
{
    return (int) [self.data count];
}

- (NSDictionary *)objectAtIndex:(int)index
{
    return [self.data objectAtIndex:index];
}

- (NSArray *)dataList
{
    return self.data;
}

@end